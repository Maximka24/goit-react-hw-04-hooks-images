(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,n){e.exports={GetContainer:"GetImg_GetContainer___4ULB",BtnForm:"GetImg_BtnForm__M_LKx"}},12:function(e,t,n){e.exports={DownloadContainer:"DownloadImg_DownloadContainer__1x3Y-",DownloadBtnImg:"DownloadImg_DownloadBtnImg__2veQd"}},13:function(e,t,n){e.exports={Overlay:"ModalImg_Overlay__3ro9e",Modal:"ModalImg_Modal__1dG33"}},24:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(7),r=n.n(c),i=(n(24),n(6)),l=n(3),s=n(18),m=n(11),u=n.n(m),d=n(1);function g(e){var t=e.onSubmit,n=Object(a.useState)(""),o=Object(l.a)(n,2),c=o[0],r=o[1];return Object(d.jsx)("div",{className:u.a.GetContainer,children:Object(d.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===c.trim())return alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438!");t(c),r("")},children:[Object(d.jsx)("button",{className:u.a.BtnForm,type:"submit",children:Object(d.jsx)(s.a,{style:{width:24,height:24}})}),Object(d.jsx)("input",{type:"tel",placeholder:"Search images...",name:"number",value:c,onChange:function(e){r(e.currentTarget.value.toLowerCase())},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432!!!"})]})})}var j=n(12),b=n.n(j);function h(e){var t=e.nameImgState,n=e.onClickPageState;return Object(d.jsx)("div",{className:b.a.DownloadContainer,children:""!==t&&Object(d.jsx)("button",{className:b.a.DownloadBtnImg,onClick:n,children:"Add image"})})}var O=n(15),f=n(16),p=n(19),I=n(17),v=n(13),_=n.n(v),C=document.querySelector("#modal-root"),x=function(e){Object(p.a)(n,e);var t=Object(I.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).handleClickKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleClickBackDrop=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleClickKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleClickKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(d.jsx)("div",{id:"Overlay",className:_.a.Overlay,onClick:this.handleClickBackDrop,children:Object(d.jsx)("div",{className:_.a.Modal,children:this.props.children})}),C)}}]),n}(a.Component),y=n(9),k=n.n(y);function w(e){var t=e.imgName,n=e.imgList,a=e.onClickToggleModal,o=e.onClickOpenModal;return Object(d.jsx)("ul",{className:k.a.ImageGallery,onClick:o,children:n.map((function(e){var n=e.id,o=e.webformatURL;return Object(d.jsx)("li",{className:k.a.ImageGalleryItem,onClick:a,children:Object(d.jsx)("img",{className:k.a.ImageGalleryItemImage,src:o,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(t)})},n)}))})}n(26);var S=n(14),M=n.n(S),N=n(5),D=n.n(N);function G(e){var t=e.imgList,n=e.toggleModal,a=e.modalRendImg,o=e.onClickPageState,c=e.targetImg,r=e.showModal,i=e.statusLoad,l=e.imgName,s=e.imgStatus,m=e.errorApi;return"idle"===s?Object(d.jsx)("div",{className:D.a.ImgContainer,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043f\u043e\u043b\u0435 \u0432\u044b\u0448\u0435!! "}):"error"===s?Object(d.jsxs)("h1",{className:D.a.ImgContainer,children:[" ",m.message," "]}):"load"===s?Object(d.jsx)("div",{className:D.a.ImgContainer,children:Object(d.jsx)(M.a,{type:"Oval",color:"#00BFFF",height:50,width:50})}):"resolved"===s?Object(d.jsxs)(d.Fragment,{children:[t&&Object(d.jsx)(w,{imgName:l,imgList:t,onClickOpenModal:a,onClickToggleModal:n}),i&&Object(d.jsx)("div",{className:D.a.ImgContainer,children:Object(d.jsx)(M.a,{type:"Oval",color:"#00BFFF",height:50,width:50})}),Object(d.jsx)(h,{nameImgState:l,onClickPageState:function(){o()}}),r&&Object(d.jsx)(x,{onClose:n,children:Object(d.jsx)("img",{src:c,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(l)})})]}):void 0}var B="https://pixabay.com/api/",L="22248336-3f9f08778186b55c7ac32d168";function F(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),r=Object(l.a)(c,2),s=r[0],m=r[1],u=Object(a.useState)(1),j=Object(l.a)(u,2),b=j[0],h=j[1],O=Object(a.useState)("idle"),f=Object(l.a)(O,2),p=f[0],I=f[1],v=Object(a.useState)(""),_=Object(l.a)(v,2),C=_[0],x=_[1],y=Object(a.useState)(null),k=Object(l.a)(y,2),w=k[0],S=k[1],M=Object(a.useState)(!1),N=Object(l.a)(M,2),D=N[0],F=N[1],E=Object(a.useState)(!1),A=Object(l.a)(E,2),P=A[0],T=A[1];Object(a.useEffect)((function(){""!==s&&fetch("".concat(B,"?q=").concat(s,"&page=").concat(b,"&key=").concat(L,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c ".concat(s)))})).then((function(e){return o((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))}))}),I("resolved")).catch((function(e){return S(e)}),I("resolved"))}),[s]),Object(a.useEffect)((function(){1!==b&&(F(!0),fetch("".concat(B,"?q=").concat(s,"&page=").concat(b,"&key=").concat(L,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c ".concat(s)))})).then((function(e){return o((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))}))}),F(!1)).then(z).catch((function(e){return S(e)}),I("resolved")))}),[b]);var z=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(g,{onSubmit:function(e){o([]),m(e),h(1)}}),Object(d.jsx)(G,{imgList:n,imgName:s,imgStatus:p,errorApi:w,statusLoad:D,showModal:P,targetImg:C,onClickPageState:function(){h((function(e){return e+1}))},modalRendImg:function(e){e.target!==e.currentTarget&&x(e.target.currentSrc)},toggleModal:function(){T((function(e){return!e}))}})]})}r.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(F,{})}),document.getElementById("root"))},5:function(e,t,n){e.exports={ImgContainer:"ImgContainer_ImgContainer__2vtBM"}},9:function(e,t,n){e.exports={ImgContainer:"ImgItem_ImgContainer__3ebJi",ImageGallery:"ImgItem_ImageGallery__1QTYk",ImageGalleryItem:"ImgItem_ImageGalleryItem__x9RtM",ImageGalleryItemImage:"ImgItem_ImageGalleryItemImage__2g9uo"}}},[[47,1,2]]]);
//# sourceMappingURL=main.aeabaa1d.chunk.js.map