(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={GetContainer:"GetImg_GetContainer___4ULB",BtnForm:"GetImg_BtnForm__M_LKx"}},13:function(e,t,a){e.exports={DownloadContainer:"DownloadImg_DownloadContainer__1x3Y-",DownloadBtnImg:"DownloadImg_DownloadBtnImg__2veQd"}},14:function(e,t,a){e.exports={Overlay:"ModalImg_Overlay__3ro9e",Modal:"ModalImg_Modal__1dG33"}},33:function(e,t,a){},6:function(e,t,a){e.exports={ImgContainer:"ImgContainer_ImgContainer__2vtBM"}},76:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(7),r=a.n(o),i=(a(33),a(17)),l=a(4),s=a(28),m=a(12),u=a.n(m),g=a(1);function d(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],r=c[1];return Object(g.jsx)("div",{className:u.a.GetContainer,children:Object(g.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===o.trim())return alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438!");t(o),r("")},children:[Object(g.jsx)("button",{className:u.a.BtnForm,type:"submit",children:Object(g.jsx)(s.a,{style:{width:24,height:24}})}),Object(g.jsx)("input",{type:"tel",placeholder:"Search images...",name:"number",value:o,onChange:function(e){r(e.currentTarget.value.toLowerCase())},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432!!!"})]})})}var j=a(13),b=a.n(j);function O(e){var t=e.nameImgState,a=e.onClickPageState;return Object(g.jsx)("div",{className:b.a.DownloadContainer,children:""!==t&&Object(g.jsx)("button",{className:b.a.DownloadBtnImg,onClick:a,children:"Add image"})})}var f=a(14),h=a.n(f),I=document.querySelector("#modal-root");function p(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){window.addEventListener("keydown",c)}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(g.jsx)("div",{id:"Overlay",className:h.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(g.jsx)("div",{className:h.a.Modal,children:a})}),I)}var v=a(9),x=a.n(v);function _(e){var t=e.imgName,a=e.imgList,n=e.onClickToggleModal,c=e.onClickOpenModal;return Object(g.jsx)("ul",{className:x.a.ImageGallery,onClick:c,children:a.map((function(e){var a=e.id,c=e.webformatURL;return Object(g.jsx)("li",{className:x.a.ImageGalleryItem,onClick:n,children:Object(g.jsx)("img",{className:x.a.ImageGalleryItemImage,src:c,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(t)})},a)}))})}a(35);var C=a(15),y=a.n(C),w=a(6),S=a.n(w);function k(e){var t=e.imgList,a=e.toggleModal,n=e.modalRendImg,c=e.onClickPageState,o=e.targetImg,r=e.showModal,i=e.statusLoad,l=e.imgName,s=e.imgStatus,m=e.errorApi;return"idle"===s?Object(g.jsx)("div",{className:S.a.ImgContainer,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043f\u043e\u043b\u0435 \u0432\u044b\u0448\u0435!! "}):"error"===s?Object(g.jsxs)("h1",{className:S.a.ImgContainer,children:[" ",m," "]}):"load"===s?Object(g.jsx)("div",{className:S.a.ImgContainer,children:Object(g.jsx)(y.a,{type:"Oval",color:"#00BFFF",height:50,width:50})}):"resolved"===s?Object(g.jsxs)(g.Fragment,{children:[t&&Object(g.jsx)(_,{imgName:l,imgList:t,onClickOpenModal:n,onClickToggleModal:a}),i&&Object(g.jsx)("div",{className:S.a.ImgContainer,children:Object(g.jsx)(y.a,{type:"Oval",color:"#00BFFF",height:50,width:50})}),Object(g.jsx)(O,{nameImgState:l,onClickPageState:function(){c()}}),r&&Object(g.jsx)(p,{onClose:a,children:Object(g.jsx)("img",{src:o,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(l)})})]}):void 0}var N=a(16),M=a.n(N),G=a(26),B=a(27),L=a.n(B),A={fetchApi:function(){var e=Object(G.a)(M.a.mark((function e(t){var a,n,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.nameImg,n=t.pageImg,e.next=3,L.a.get("".concat("https://pixabay.com/api/","?q=").concat(a,"&page=").concat(n,"&key=").concat("22248336-3f9f08778186b55c7ac32d168","&image_type=photo&orientation=horizontal&per_page=12"));case 3:return c=e.sent,e.abrupt("return",c.data.hits);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function F(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(l.a)(o,2),s=r[0],m=r[1],u=Object(n.useState)(1),j=Object(l.a)(u,2),b=j[0],O=j[1],f=Object(n.useState)("idle"),h=Object(l.a)(f,2),I=h[0],p=h[1],v=Object(n.useState)(""),x=Object(l.a)(v,2),_=x[0],C=x[1],y=Object(n.useState)(null),w=Object(l.a)(y,2),S=w[0],N=w[1],M=Object(n.useState)(!1),G=Object(l.a)(M,2),B=G[0],L=G[1],F=Object(n.useState)(!1),D=Object(l.a)(F,2),E=D[0],T=D[1];Object(n.useEffect)((function(){""!==s&&P()}),[s]),Object(n.useEffect)((function(){1!==b&&z()}),[b]);var P=function(){p("load");var e={nameImg:s,pageImg:b};A.fetchApi(e).then((function(e){return c(e)})).catch((function(e){return N(e)})).finally((function(){return p("resolved")}))},z=function(){var e={nameImg:s,pageImg:b};L(!0),A.fetchApi(e).then((function(e){return c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))})).then(R).catch((function(e){return N(e)})).finally((function(){return L(!1)}))},R=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(d,{onSubmit:function(e){c([]),m(e),O(1)}}),Object(g.jsx)(k,{imgList:a,imgName:s,imgStatus:I,errorApi:S,statusLoad:B,showModal:E,targetImg:_,onClickPageState:function(){O((function(e){return e+1}))},modalRendImg:function(e){e.target!==e.currentTarget&&C(e.target.currentSrc)},toggleModal:function(){T((function(e){return!e}))}})]})}r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(F,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={ImgContainer:"ImgItem_ImgContainer__3ebJi",ImageGallery:"ImgItem_ImageGallery__1QTYk",ImageGalleryItem:"ImgItem_ImageGalleryItem__x9RtM",ImageGalleryItemImage:"ImgItem_ImageGalleryItemImage__2g9uo"}}},[[76,1,2]]]);
//# sourceMappingURL=main.50091726.chunk.js.map